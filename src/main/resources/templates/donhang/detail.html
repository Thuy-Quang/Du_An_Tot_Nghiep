<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{/giaodienquanly/giaodienquanly.html :: dynamic(~{::quanly})}">
<head>
    <meta charset="UTF-8">
    <title>Chi tiết đơn hàng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>

<div class="container" th:fragment="quanly">

    <div class="row">

        <div class="col-md-8 mx-auto rounded border p-4 m-4">
            <h2 class="text-center mb-5">Chi tiết đơn hàng</h2>

            <form enctype="multipart/form-data">
                <!-- Người dùng -->
                <div class="mb-3">
                    <label for="nguoiDung" class="form-label">Người Dùng</label>
                    <input type="text" class="form-control" id="nguoiDung" name="nguoiDung" th:value="${detail.nguoiDung.hoTen}" disabled>
                </div>

                <!-- Trạng thái đơn hàng -->
                <div class="mb-3">
                    <label for="trangThai" class="form-label">Trạng Thái Đơn Hàng</label>
                    <select class="form-select" id="trangThai" name="trangThai" disabled>
                        <option value="Đang xử lý" th:selected="${detail.trangThai == 'Đang xử lý'}">Đang xử lý</option>
                        <option value="Đã giao hàng" th:selected="${detail.trangThai == 'Đã giao hàng'}">Đã giao hàng</option>
                        <option value="Đã hủy" th:selected="${detail.trangThai == 'Đã hủy'}">Đã hủy</option>
                    </select>
                </div>

                <!-- Tổng tiền -->
                <div class="mb-3">
                    <label for="tongTien" class="form-label">Tổng Tiền</label>
                    <input type="number" class="form-control" id="tongTien" name="tongTien" th:value="${detail.tongTien}" disabled>
                </div>

                <!-- Phương thức thanh toán -->
                <div class="mb-3">
                    <label for="phuongThucThanhToan" class="form-label">Phương Thức Thanh Toán</label>
                    <input type="text" class="form-control" id="phuongThucThanhToan" name="phuongThucThanhToan" th:value="${detail.phuongThucThanhToan}" disabled>
                </div>

                <!-- Địa chỉ giao hàng -->
                <div class="mb-3">
                    <label for="diaChi" class="form-label">Địa Chỉ Giao Hàng</label>
                    <input type="text" class="form-control" id="diaChi" name="diaChi" th:value="${detail.diaChi}" disabled>
                </div>

                <!-- Trạng thái thanh toán -->
                <div class="mb-3">
                    <label for="trangThaiThanhToan" class="form-label">Trạng Thái Thanh Toán</label>
                    <select class="form-select" id="trangThaiThanhToan" name="trangThaiThanhToan" disabled>
                        <option value="Chưa thanh toán" th:selected="${detail.trangThaiThanhToan == 'Chưa thanh toán'}">Chưa thanh toán</option>
                        <option value="Đã thanh toán" th:selected="${detail.trangThaiThanhToan == 'Đã thanh toán'}">Đã thanh toán</option>
                    </select>
                </div>

                <!-- Chỉnh sửa -->
                <div class="mb-3">
                    <label for="phuongThucThanhToanEdit" class="form-label">Cập nhật phương thức thanh toán</label>
                    <select class="form-select" id="phuongThucThanhToanEdit" name="phuongThucThanhToanEdit" th:field="*{phuongThucThanhToan}" required>
                        <option value="Tiền mặt" th:selected="${detail.phuongThucThanhToan == 'Tiền mặt'}">Tiền mặt</option>
                        <option value="Chuyển khoản" th:selected="${detail.phuongThucThanhToan == 'Chuyển khoản'}">Chuyển khoản</option>
                    </select>
                </div>

                <!-- Các nút điều hướng -->
                <a th:href="@{/HienThiDonHang/GetAll}" class="btn btn-secondary">Quay lại</a>
                <a th:href="@{/HienThiDonHang/listDonHang/edit/id/{id}(id=${detail.id})}" class="btn btn-warning">Cập nhật đơn hàng</a>
            </form>

        </div>

    </div>

</div>

</body>
</html>